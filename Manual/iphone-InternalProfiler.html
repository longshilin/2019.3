<!DOCTYPE html><html class="no-js" lang="zh_CN">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta name="robots" content="noindex">
<meta property="og:title" content="Measuring performance with the built-in profiler - Unity Manual">
<title>Measuring performance with the built-in profiler - Unity Manual</title>
<meta name="description" content="Note: The internal profiler is deprecated and will be retired in a future version of Unity. Use the Profiler window instead (menu: Window &gt; Analysis &gt; Profiler).">
<meta property="og:description" content="Note: The internal profiler is deprecated and will be retired in a future version of Unity. Use the Profiler window instead (menu: Window &gt; Analysis &gt; Profiler).">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script>
      var docs_type = 'Manual';
      var lang = 'zh_CN';
      var page = 'iphone-InternalProfiler';
      if(!page) page = 'index';
      var version = '2019.3';
      var docs_versions = [{version: '2019.3',version_string: '2019.3'},{version: '2019.2',version_string: '2019.2'},{version: '2019.1',version_string: '2019.1'},{version: '2018.4',version_string: '2018.4'},{version: '2018.3',version_string: '2018.3'},{version: '2018.2',version_string: '2018.2'},{version: '2018.1',version_string: '2018.1'},{version: '2017.4',version_string: '2017.4'},{version: '2017.3',version_string: '2017.3'},{version: '2017.2',version_string: '2017.2'},{version: '2017.1',version_string: '2017.1'},{version: '5.6',version_string: '560'},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/zh_CN/2019.3/Manual/iphone-InternalProfiler.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2019.3/Manual/iphone-InternalProfiler.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/ja/2019.3/Manual/iphone-InternalProfiler.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2019.3/Manual/iphone-InternalProfiler.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2019.3/Manual/iphone-InternalProfiler.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/2019.3/Documentation/Manual/iphone-InternalProfiler.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/iphone-InternalProfiler.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/iphone-InternalProfiler.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/iphone-InternalProfiler.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/iphone-InternalProfiler.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/iphone-InternalProfiler.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/iphone-InternalProfiler.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/iphone-InternalProfiler.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/iphone-InternalProfiler.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/iphone-InternalProfiler.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/iphone-InternalProfiler.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/iphone-InternalProfiler.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/iphone-InternalProfiler.html">5.6</a></li>
</ul></div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">Manual</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">Scripting API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.3/Documentation/Manual/iphone-InternalProfiler.html">English</a></li>
<li><a data-lang="ja" href="/ja/2019.3/Manual/iphone-InternalProfiler.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.3/Manual/iphone-InternalProfiler.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.3/Manual/iphone-InternalProfiler.html">한국어</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>Manual</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.3</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;"><ul>
<li><a class="docs_version_url_2019.3" href="/zh_CN/2019.3/Manual/iphone-InternalProfiler.html">2019.3</a></li>
<li><a class="docs_version_url_2019.2" href="/zh_CN/2019.2/Manual/iphone-InternalProfiler.html">2019.2</a></li>
<li><a class="docs_version_url_2019.1" href="/zh_CN/2019.1/Manual/iphone-InternalProfiler.html">2019.1</a></li>
<li><a class="docs_version_url_2018.4" href="/zh_CN/2018.4/Manual/iphone-InternalProfiler.html">2018.4</a></li>
<li><a class="docs_version_url_2018.3" href="/zh_CN/2018.3/Manual/iphone-InternalProfiler.html">2018.3</a></li>
<li><a class="docs_version_url_2018.2" href="/zh_CN/2018.2/Manual/iphone-InternalProfiler.html">2018.2</a></li>
<li><a class="docs_version_url_2018.1" href="/zh_CN/2018.1/Manual/iphone-InternalProfiler.html">2018.1</a></li>
<li><a class="docs_version_url_2017.4" href="/zh_CN/2017.4/Manual/iphone-InternalProfiler.html">2017.4</a></li>
<li><a class="docs_version_url_2017.3" href="/zh_CN/2017.3/Manual/iphone-InternalProfiler.html">2017.3</a></li>
<li><a class="docs_version_url_2017.2" href="/zh_CN/2017.2/Manual/iphone-InternalProfiler.html">2017.2</a></li>
<li><a class="docs_version_url_2017.1" href="/zh_CN/2017.1/Manual/iphone-InternalProfiler.html">2017.1</a></li>
<li><a class="docs_version_url_560" href="/zh_CN/560/Manual/iphone-InternalProfiler.html">5.6</a></li>
</ul></div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2019.3)</a></li>
<li><a href="PlatformSpecific.html">Platform development</a></li>
<li><a href="iphone.html">iOS</a></li>
<li>iOS 高级主题</li>
<li><a href="iphone-performance.html">在 iOS 上优化性能</a></li>
<li>Measuring performance with the built-in profiler</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="iphone-iOS-Optimization.html"></a></span><div class="tip">iOS-specific optimizations</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="iphone-playerSizeOptimization.html"></a></span><div class="tip">Optimizing the size of the built iOS Player</div>
</div>
</div></div>
<h1>Measuring performance with the built-in profiler</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p><strong>Note:</strong> The internal profiler is deprecated and will be retired in a future version of Unity. Use the <a href="ProfilerWindow.html">Profiler window</a> instead (menu: Window &gt; Analysis &gt; Profiler).</p>

<p>Unity contains a built-in profiler for iOS and Android. Every 30 frames, the built-in profiler emits console messages from the app running on the device. These messages provide insight into how the app is running. In particular, they help you determine if your app is CPU or GPU-bound. If your app is CPU-bound, you can also determine whether script code or garbage collection are causing the bottleneck. This page details how to configure the built-in profiler.</p>

<p>Here’s an example of the built-in profiler’s output:</p>

<pre><code>iPhone Unity internal profiler stats
frametime&gt;     min: 32.5   max: 34.1   avg: 33.3
cpu-player&gt;    min:  2.2   max:  4.4   avg:  3.7
batches&gt;       min:   3    max:   3    avg:   3
draw calls&gt;    min:   3    max:   3    avg:   3
tris&gt;          min:  1704  max:  1704  avg:  1704
verts&gt;         min:  5088  max:  5088  avg:  5088
dynamic batching&gt; batched draw calls:   0 batches:   0 tris:     0 verts:     0
static batching&gt;  batched draw calls:   0 batches:   0 tris:     0 verts:     0
player-detail&gt; physx:  0.0 animation:  0.0 culling  0.0 skinning:  0.0 batching:  0.0 render:  0.0 fixed-update-count: 0 .. 0
scripting-scripts&gt;  update:  0.0   fixedUpdate:  0.0 coroutines:  0.0 
scripting-memory&gt;   information not available on non-development player configuration
</code></pre>

<p>All times are measured in milliseconds per frame. You can see the minimum, maximum, and average times over the last thirty frames.</p>

<h2>General CPU activity</h2>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>属性</strong></th>
	<th style="text-align:left;"><strong>功能</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>cpu-player</strong></td>
	<td style="text-align:left;">Displays the time your app spends executing code inside the Unity engine and executing scripts on the CPU.</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>cpu-ogles-drv</strong> (Android only)</td>
	<td style="text-align:left;">Displays the time spent executing OpenGL ES driver code on the CPU. These driver stats can be affected by several factors, including the number of draw calls, number of internal rendering state changes, rendering pipeline setup, and number of processed vertices.</td>
</tr>
<tr>
	<td style="text-align:left;">
<strong>cpu-present</strong> (Android only)</td>
	<td style="text-align:left;">The amount of time spent executing the <code>presentRenderbuffer</code> command in OpenGL ES.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>frametime</strong></td>
	<td style="text-align:left;">Represents the overall time of an app frame. Note that iOS hardware is locked at a 60Hz refresh rate, so this property will always return a time that’s a multiple of 16.7ms (1000ms/60Hz = 16.7ms).</td>
</tr>
</tbody>
</table>

<h2>Rendering statistics</h2>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>属性</strong></th>
	<th style="text-align:left;"><strong>功能</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>tris #</strong></td>
	<td style="text-align:left;">Total number of triangles sent for rendering.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>verts #</strong></td>
	<td style="text-align:left;">Total number of vertices sent for rendering. You should keep this number below 10000 if your app uses only static geometry. If your app uses many instances of skinned geometry, this number should be much lower.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>dynamic/static batching</strong></td>
	<td style="text-align:left;">Number of draw-calls, triangles, and vertices that the engine automatically batched. Comparing these numbers with draw-call and triangle totals can give you an idea how well is your scene prepared for batching. Share as many materials as possible among your objects to improve batching.</td>
</tr>
</tbody>
</table>

<h2>Detailed Unity Player statistics</h2>

<p>The <strong>player-detail</strong> section provides a detailed breakdown of what’s happening inside the engine:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>属性</strong></th>
	<th style="text-align:left;"><strong>功能</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>physx</strong></td>
	<td style="text-align:left;">Time spent on physics.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>animation</strong></td>
	<td style="text-align:left;">Time spent animating bones.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>culling</strong></td>
	<td style="text-align:left;">Time spent culling objects outside the camera frustum.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>skinning</strong></td>
	<td style="text-align:left;">Time spent applying animations to skinned meshes.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>batching</strong></td>
	<td style="text-align:left;">Time spent batching geometry. Batching dynamic geometry is considerably more resource-intensive than batching static geometry.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>render</strong></td>
	<td style="text-align:left;">Time spent rendering visible objects.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>fixed-update-count</strong></td>
	<td style="text-align:left;">Minimum and maximum number of FixedUpdates executed during this frame. Too many FixedUpdates will deteriorate performance considerably.</td>
</tr>
</tbody>
</table>

<h2>Detailed script statistics</h2>

<p>The <strong>scripting-scripts</strong> section provides a detailed breakdown of the time spent executing code in the Mono runtime:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>属性</strong></th>
	<th style="text-align:left;"><strong>功能</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>update</strong></td>
	<td style="text-align:left;">Total time spent executing all <code>Update()</code> methods in scripts.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>fixedUpdate</strong></td>
	<td style="text-align:left;">Total time spent executing all <code>FixedUpdate()</code> methods in scripts.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>coroutines</strong></td>
	<td style="text-align:left;">Time spent inside script coroutines.</td>
</tr>
</tbody>
</table>

<h2>Detailed statistics on memory allocated by scripts</h2>

<p>The <strong>scripting-memory</strong> section gives you an idea of how memory is being managed by the Mono garbage collector:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">
<strong>Property</strong>:</th>
	<th style="text-align:left;">
<strong>Function</strong>:</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>allocated heap</strong></td>
	<td style="text-align:left;">Total amount of memory available for allocations. A garbage collection triggers if the heap doesn’t have enough memory left for a given allocation. If this doesn’t free enough memory, the allocated heap will grow in size.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>used heap</strong></td>
	<td style="text-align:left;">The portion of the <strong>allocated heap</strong> which is currently used up by objects. Every time you create a new class instance (not a struct), this number grows until the next garbage collection.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>max number of collections</strong></td>
	<td style="text-align:left;">Number of garbage collection passes during the last 30 frames.</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>collection total duration</strong></td>
	<td style="text-align:left;">Total time (in milliseconds) of all garbage collection passes that happened during the last 30 frames.</td>
</tr>
</tbody>
</table>

<h2>Configuration</h2>

<p>On iOS, the internal profiler is disabled by default. To enable it, open the Unity-generated Xcode project, select the <code>InternalProfiler.h</code> file, and change the line</p>

<pre><code>#define ENABLE_INTERNAL_PROFILER 0
</code></pre>

<p>to</p>

<pre><code>#define ENABLE_INTERNAL_PROFILER 1
</code></pre>

<p>Alternatively, access the iOS <a href="class-PlayerSettingsiOS.html">Player Settings</a> (menu: <strong>Edit &gt; Project Settings &gt; Player Settings</strong>, then select <strong>iOS</strong>). In the <strong>Debugging and crash reporting</strong> section, enable the <strong>Enable Internal Profiler</strong> (Deprecated) setting. Make sure <strong>Development Build</strong> is enabled in the <strong>Build Settings</strong> when you build your app.</p>

<p>To display the output console (GDB), select <strong>View &gt; Debug Area &gt; Activate Console</strong> from Xcode’s main menu, then run your project. Unity then outputs statistics to the console window every 30 frames.</p>

<p>To enable the internal profiler on Android, access the Android <a href="class-PlayerSettingsAndroid.html">Player Settings</a> (menu: <strong>Edit &gt; Project Settings &gt; Player Settings</strong>, then select <strong>Android</strong>). In the <strong>Optimization</strong> section, enable the <strong>Enable Internal Profiler</strong> (Deprecated) setting. Make sure <strong>Development Build</strong> is enabled in the <strong>Build Settings</strong> when you build your app. Statistics will then display in logcat when your app runs on the device. To view logcat, ensure <strong>adb</strong> or the Android Debug Bridge is installed, and then run the shell command <code>adb logcat</code>.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="iphone-iOS-Optimization.html"></a></span><div class="tip">iOS-specific optimizations</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="iphone-playerSizeOptimization.html"></a></span><div class="tip">Optimizing the size of the built iOS Player</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2020 Unity Technologies. Publication 2019.3</div>
<div class="menu">
<a href="https://unity3d.com/learn">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
